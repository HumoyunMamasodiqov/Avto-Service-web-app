{% extends "base.html" %}
{% load i18n %}

{% block content %}

<body class="bg-gray-50 font-sans min-h-screen pb-24">
    <header class="bg-white py-4 px-4 text-center border-b">
        <h1 class="text-lg font-semibold text-gray-800">{% trans "Profil" %}</h1>
    </header>

    <div class="bg-white py-10 px-6 text-center">
        <div class="flex justify-center mb-4">
            <div class="w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-white text-3xl">
                <i class="fa-solid fa-circle-user"></i>
            </div>
        </div>
        <p class="text-gray-700 text-base leading-snug">
            {% trans "Tizimga kiring va avtoservis xizmatlaridan to'liq foydalaning" %}
        </p>
    </div>

    <!-- Til tanlash item -->
    <div class="mt-4 bg-white">
        <div class="til flex items-center justify-between p-4 border-b active:bg-gray-100 transition cursor-pointer">
            <div class="flex items-center gap-4">
                <div class="w-6 h-6 rounded-full overflow-hidden border">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/8/84/Flag_of_Uzbekistan.svg" alt="Uzbek"
                        class="object-cover h-full">
                </div>
                <span class="text-gray-800">{% trans "Ilova tili" %}</span>
            </div>
            <div class="flex items-center gap-2">
                <span class="text-gray-400">{% trans "O'zbekcha" %}</span>
                <i class="fa-solid fa-chevron-right text-gray-300 text-sm"></i>
            </div>
        </div>

        <!-- Modal -->
        <div class="menu_til fixed inset-0 bg-gray-600 bg-opacity-50 flex items-end justify-center sm:items-center p-4">
            <div class="bg-white w-full max-w-md rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl relative">
                <div class="w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6"></div>
                <button class="absolute top-6 right-6 text-gray-400 bg-gray-100 rounded-full p-1"
                    onclick="this.closest('.menu_til').style.cssText='transform: translateY(2000px); transition: transform 0.5s ease-in-out;'">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>

                <h2 class="text-2xl font-bold text-gray-800 mb-8">{% trans "Tilni tanlang" %}</h2>

                <form action="{% url 'set_language' %}" method="post">
                    {% csrf_token %}
                    <div class="space-y-6 ">
                        <!-- O'zbekcha -->
                        <label class="flex items-center justify-between cursor-pointer group">
                            <div class="flex items-center space-x-4">
                                <input type="radio" name="language" value="uz" class="form-radio h-5 w-5 text-black"
                                    checked>
                                <span class="text-lg font-medium text-gray-900">{% trans "O'zbekcha" %}</span>
                            </div>
                            <div class="w-6 h-6 rounded-full overflow-hidden flex flex-col border border-gray-100">
                                <div class="h-1/3 bg-blue-400"></div>
                                <div class="h-1/3 bg-white"></div>
                                <div class="h-1/3 bg-green-500"></div>
                            </div>
                        </label>

                        <hr class="border-gray-100">

                        <!-- Русский -->
                        <label class="flex items-center justify-between cursor-pointer group">
                            <div class="flex items-center space-x-4">
                                <input type="radio" name="language" value="ru" class="form-radio h-5 w-5 text-black">
                                <span class="text-lg font-medium text-gray-500">{% trans "Русский" %}</span>
                            </div>
                            <div class="w-6 h-6 rounded-full overflow-hidden flex flex-col border border-gray-100">
                                <div class="h-1/3 bg-white"></div>
                                <div class="h-1/3 bg-blue-600"></div>
                                <div class="h-1/3 bg-red-600"></div>
                            </div>
                        </label>

                        <label class="flex items-center justify-between cursor-pointer group">
                            <div class="flex items-center space-x-4">
                                <input type="radio" name="language" value="en" class="form-radio h-5 w-5 text-black">
                                <span class="text-lg font-medium text-gray-500">{% trans "English" %}</span>
                            </div>
                            <div class="w-6 h-6 rounded-full overflow-hidden border border-gray-100">
                                <div class="h-1/3 bg-blue-600"></div>
                                <div class="h-1/3 bg-white"></div>
                                <div class="h-1/3 bg-red-600"></div>
                            </div>
                        </label>

                    </div>

                    <button type="submit"
                        class="w-full  bg-[#1e1e1e] text-white py-4 mt-[20px]  rounded-2xl text-lg font-bold hover:bg-black transition-colors">
                        {% trans "Tanlash" %}
                    </button>
                </form>
            </div>
        </div>

        <!-- Menu items -->
        <div class="flex items-center justify-between p-4 border-b active:bg-gray-100 transition">
            <a href="{% url 'all_master' %}">
                <div class="flex items-center gap-4">
                    <i class="fa-solid fa-map-location-dot text-gray-600 text-lg w-6 text-center"></i>
                    <span class="text-gray-800">{% trans "Barcha atrofdagi servislar" %}</span>
                </div>
            </a>
            <i class="fa-solid fa-chevron-right text-gray-300 text-sm"></i>
        </div>

        <div class="flex items-center justify-between p-4 border-b active:bg-gray-100 transition">
            <div class="flex items-center gap-4">
                <i class="fa-regular fa-bell text-gray-600 text-lg w-6 text-center"></i>
                <span class="text-gray-800">{% trans "Xabarnomalar" %}</span>
            </div>
            <i class="fa-solid fa-chevron-right text-gray-300 text-sm"></i>
        </div>

        <div class="flex items-center justify-between p-4 border-b active:bg-gray-100 transition">
            <a href="https://t.me/richbro2001" target="_blank">
                <div class="flex items-center gap-4">
                    <i class="fa-regular fa-envelope text-gray-600 text-lg w-6 text-center"></i>
                    <span class="text-gray-800">{% trans "Biz bilan bog'lanish" %}</span>
                </div>
            </a>
            <i class="fa-solid fa-chevron-right text-gray-300 text-sm"></i>
        </div>

        <div class="flex items-center justify-between p-4 active:bg-gray-100 transition">
            <div class="flex items-center gap-4">
                <i class="fa-regular fa-circle-question text-gray-600 text-lg w-6 text-center"></i>
                <span class="text-gray-800">{% trans "Ma'lumotnoma" %}</span>
            </div>
            <i class="fa-solid fa-chevron-right text-gray-300 text-sm"></i>
        </div>
    </div>

    <!-- Footer -->
    <div class="text-center py-6 text-gray-300 text-sm italic">
        {% trans "Versiya" %}: 1.0.1
    </div>

    <!-- Logout / Login -->
    {% if user.is_authenticated %}
    <a href="{% url 'logout' %}">
        <div class="px-4 mt-2">
            <button class="w-full bg-[#F37021] text-white py-4 rounded-xl font-semibold active:scale-95 transition">
                {% trans "Chiqish" %}
            </button>
        </div>
    </a>
    {% else %}
    <a href="{% url 'register' %}">
        <div class="px-4 mt-2">
            <button class="w-full bg-[#F37021] text-white py-4 rounded-xl font-semibold active:scale-95 transition">
                {% trans "Kirish" %}
            </button>
        </div>
    </a>
    {% endif %}

</body>

<!-- Script -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        let til = document.querySelector(".til");
        til.addEventListener("click", function () {
            document.querySelector(".menu_til").style.cssText = "transform: translateY(-40px); transition: transform 0.5s ease-in-out;";
        });
    });
</script>

<!-- Styles -->
<style>
    .menu_til {
        transform: translateY(2000px);
    }
</style>
{% endblock %}